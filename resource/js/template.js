(function(window){	var cache = {};	window.tmpl = function(str){		var content = !/\s|<|>/.test(str) ? cache[str] = cache[str] || document.getElementById(str).innerHTML : str;		content = content.replace(/\\/g, '\\\\').replace(/[\r\t\n]/g, " ")				.split(/<%\s*/).join("\t")				.replace(/((^|%>)[^\t]*)'/g, "$1\r")				.replace(/\t=(.*?)%>/g, "',$1,'")				.split("\t").join("');")				.split("%>").join("___tp.push('")				.split("\r").join("\\'");				return {			render: function(data){				var actualParams = [], formalParams = [];				for(var key in data){					formalParams.push(key);					actualParams.push(data[key]);				}				return new Function(formalParams, "var ___tp=[],print=function(){___tp.push.apply(___tp,arguments);};___tp.push('" + content + "');return ___tp;").apply(null, actualParams).join("");			}		}			};})(window);